<!doctype html>
<html>
	<head>
		<title>GIT</title>
		<meta name="description" content="Workshop sobre Git: Introduction, Staging area, remote, cloning & branching and collaborating">
		<meta name="author" content="valobe">

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>GIT</h1>
					<h3 class="highlight-red">Workshop R Team</h3>
					<p> Introduction, Staging area & remote, cloning & branching and collaboration</p>
				</section>
			
				<section>
					<h2>¿Qué es Git?</h2>
					<p> Sistema de control de versiones distribuido (DVCS)</p>
					<p> Opuesto al enfoque de cliente-servidor de los sistemas centralizados. --En lugar de un único repositorio central en el cual los clientes se sincronizan, cada usuario tiene en local una copia completa en su equipo y esta copia es también un repositorio completo.</p>
					<p> Las operaciones típicas como commit, visualización del historial de cambios, etc son muy rápidas ya que no es necesaria comunicación con el servidor. </p>
					--<p>La comunicación con el servidor remoto solo se realizar cuando se comparten los cambios</p>				
				</section>

				<section>
					<h2>Central repository vs Distributed repository</h2>
					<img width="600" height="400" src="img/central_vs_distributed.png" alt="Class Hierarchy">
				</section>

				<section>
					<h2>¿Cúal es el origen de Git?</h2>
					<p>Git se origina en el desarrollo del kernel de Linux </p>
					<p>Fundado en 2005 por Linus Torvalds</p>
					
					<img width="850" height="350" src="img/companies_uses_git.png" alt="Class Hierarchy">
				</section>	

				<section>
					<h2>working with git</h2>
					<p>Línea de comandos o multitud de herramientras gráficas.</p>
					<p>git help: Muestra una lista con los comandos más utilizados.</p>
					<img width="600" height="350" src="img/git-help.png" alt="Class Hierarchy">
				</section>

				<section>
					<h2>git help</h2>
					<p>Si queremos ver todos los comandos disponibles podeos utilizar la opción --all o -a.</p>
					<p> Si lo utilizamos junto con un comando git concreto muestra la página de manual para ese comando.</p>
				</section>
				<section>
					<h2>Create a new repository with git init</h2>
					<p>Utiliza el comando git init para crear un nuevo repositorio en el directorio actual.</p>
					<p>Todo repositorio git está almacenado en la caprtea .git del directorio donde se ha creado el repositorio. Este directorio contiene el historial completo del respositorio.</p>
					<img width="600" height="150" src="img/git-init.png" alt="Class Hierarchy">
				</section>
			
				<section>
					<h2>git config</h2>
					<p> Configuración global: Git permite almacenar configuración del usuario en el fichero .gitconfig ubicado en home del usuario.
					<p>El fichero ubicado en .git/config almacena la configurción específica de un repositorio.</p>
					<img width="600" height="100" src="img/git-config-global-user.png" alt="Class Hierarchy">
				</section>

				<section>
					<h2>Working tree</h2>
					<p> Todos los ficheros situados dentro del directorio del repositorio, excluyendo la carpeta .git, constituyen lo que se denomina working tree </p>
					<p>Un fichero en el working tree puede tener diferentes estados:</p>

					<ul>
						<li class="fragment">tracked</li>
						<li class="fragment">untracked</li>
						<li class="fragment">staged</li>
						<li class="fragment">unstaged</li>
					</ul>
				</section>

				<section>
					<img width="600" height="350" src="img/git-add-commit.png" alt="Class Hierarchy">
				</section>

				<section>
					<h2>git status</h2>
					<p> Permite ver los cambios realizados en el repositorio</p>
					<img width="600" height="350" src="img/git-status.png" alt="Class Hierarchy">
				</section>

				<section>
					<h2>git add & git commit</h2>
					<p> git add almacena una instantánea de los ficheros especificados en el staging area.</p>
					<P> git commit hace permanentes los cambios del staging area en el repositorio.</p>
					<img width="600" height="350" src="img/git-add-status.png" alt="Class Hierarchy">
				</section>

				<section>
					<img width="600" height="350" src="img/git-commit.png" alt="Class Hierarchy">
					<img width="600" height="80" src="img/nothing-to-commit.png" alt="Class Hierarchy">
				</section>

				<section>
					<h2>git log</h2>
					<img width="600" height="350" src="img/git-log.png" alt="Class Hierarchy">
				</section>
				
				<section>
					<h2>git diff</h2>
					<p> Permite ver los cambios realizados desde el último commit.</p>
					<img width="600" height="350" src="img/git-diff.png" alt="Class Hierarchy">
				</section>
				<section>
					<h2>git diff --staged</h2>
					<p> Permite ver los cambios realizados con respecto a lo último que se añadió al stagging area</p>
					<img width="600" height="350" src="img/git-diff-staged.png" alt="Class Hierarchy">
				</section>

				<section>
					<h2>unstaging</h2>
					<img width="600" height="100" src="img/git-reset.png" alt="Class Hierarchy">
					<img width="600" height="150" src="img/git-status-after-reset.png" alt="Class Hierarchy">
				</section>

				<section>
					<h2>Descartar cambios</h2>
					<img width="600" height="350" src="img/discard-changes.png" alt="Class Hierarchy">
				</section>

				<section>
					<h2>Stage & commit</h2>
					<p>Con la opción -a realizamos tanto el add como el commit</p>
					<p>Solo añade los cambios de los ficheros que ya estaban bajo tracking</p>
					<img width="600" height="300" src="img/git-commit-a.png" alt="Class Hierarchy">
				</section>

				<section>
					<h2>Deshacer un commit con git reset</h2>
					<p>Mueve el head al commit anterior y devuelve los cambios al stagging area.</p>
					<img width="600" height="250" src="img/undo-commit.png" alt="Class Hierarchy">
				</section>
				<section>
					<h2>Añadir algo más a un commit</h2>
					<p>Con la opción --amend añadimos los cambios (todo lo que se encuentre en el stagging area) al último commit.</p>
					<img width="600" height="350" src="img/amend.png" alt="Class Hierarchy">
				</section>

				<section>
					<h2>Deshacer commit y todos los cambios con git reset</h2>
					<p>Mediande la opción --hard podemos deshacer el último o los dos últimos commits y también todos los cambios.</p>
					<img width="600" height="50" src="img/hard1.png" alt="Class Hierarchy">
					<img width="600" height="50" src="img/hard2.png" alt="Class Hierarchy">
				</section>
				<section>
					<h2>Repositorio Remoto: git remote and git push</h2>
					<img width="600" height="30" src="img/git-remote-add.png" alt="Class Hierarchy">
					<img width="600" height="30" src="img/git-remote-v.png" alt="Class Hierarchy">
					<img width="600" height="350" src="img/git-push.png" alt="Class Hierarchy">
				</section>

				<section>
					<h2>Repositorio Remoto: otros comandos</h2>
					<p>git pull para traer a local los cambios</p>
					<p> tip: A veces cuando vamos a hacer pull tenemos cambios que no queremos commitear todavía. podemos hacer 'git stash' para ocultar los cambios y 'git stash apply' para volver a aplicar los cambios tras el pull.
					<p>'git remote rm name' para eliminar un repositorio remoto</p>
					<p>'git push -u name branch' para subir una rama a remoto</p>
				</section>

				<section>
					<h2>Clonado de un repositorio remoto: git clone</h2>
					<img width="600" height="350" src="img/another-repository.png" alt="Class Hierarchy">
				</section>

				<section>
					<img width="600" height="200" src="img/git-clone.png" alt="Class Hierarchy">
				</section>

				<section>
					<h2>git clone</h2>
					<ol>
						<li class="fragment">Descarga el repositorio completo en un nuevo repositorio</li>
						<li class="fragment">Añade el origen remoto apuntando a la URL de clonado.</li>
						<li class="fragment">Checkout de la rama inicial (master).<	/li>
					</ol>
				</section>

				<section>
					<h2>Trabajo con ramas: git branch and git checkout</h2>
					<p> Desarrollo de nuevas funcionalidades en ramas creadas desde la rama master</p>
						<img width="400" height="300" src="img/git-branch-checkout-commit.png" alt="Class Hierarchy">
						<img width="400" height="150" src="img/graph-branch.png" alt="Class Hierarchy">
						<p>'git checkout -b newbranch' Crea y se mueve a la nueva rama</p>
				</section>

				<section>
					<h2>git Merge</h2>
					<p>git crea un merge-commit</p>
					<p>Fast-forward merge vs non fast-forward merge</p>
						<img width="400" height="300" src="img/git-checkout-commit-merge.png" alt="Class Hierarchy">
						<img width="400" height="150" src="img/non-fastforward-merge.png" alt="Class Hierarchy">
					<p> 'git branch -d branch' Para eliminar un rama</p>
				</section>

				<section>
					<h2>Trabajo en grupo</h2>
					<p> Para esta parte vamos a necesitar otro usuario que realice cambios (usuario2)</p>
					<img width="400" height="300" src="img/ejercicio_1.png" alt="Class Hierarchy">
				</section>
				<section>
					<p> Ejercicio 1: Commits diferentes</p>
					<ol>
						<li class="fragment">git clone https://github.com/valobe/pruebasGit.git</li>
						<li class="fragment">usuario2 añade un fichero nuevo, hace commit y hace push</li>
						<li class="fragment">usuario1 añade un fichero nuevo y hace commit</li>
						<li class="fragment">usuario1 intenta hacer push ¿qué ocurre?</li>
					</ol>
				</section>

				<section>
					<p>Observamos que nos indica que nuestra rama está por detrás y no podemos hacer el push.</p>
					<p>La solución es hacer un pull para hacer un merge del origin/master en nuestro master</p>
					<p>git pull</p>
					<ol>
						<li class="fragment">Sincroniza nuestro repositorio local con el remoto == 'git fetch'</li>
						<li class="fragment">Hace el merge del origin/master con el master (crea un merge commit) == 'git merge origin/master'</li>
						<li class="fragment">A continuación el usuario1 puede hacer 'git push' para actualizar el repositorio remoto</li>
					</ol>
				</section>

				<section>
					<p> Ejercicio 2: Merge conflict</p>
					<ol>
						<li class="fragment">usuario1 modifica el fichero prueba.txt y hace commit/li>
						<li class="fragment">usuario2 modifica el fichero prueba.txt, hace commit y push</li>
						<li class="fragment">usuario1 intenta hacer pull ¿qué ocurre?</li>
					</ol>
				</section>

				<section>
					<p>Observamos que nos indica que se ha producido un merge conflict y qeu debemos solucionarlo y commitear el resultado.</p>
					<ul>
						<li class="fragment">Si el usuario1 hace git status verá que el fihcero prueba.txt tiene cambios</li>
						<li class="fragment">El usuario1 abre el fichero prueba.txt para editarlo y corregirlo</li>
						<li class="fragment">El usuario1 añade y commitea el fichero prueba.txt y pone mensaje de merge commit</li>
						<li class="fragment">El usuario1 ahora puede hacer push para actualizar el remoto</li>
					</ul>
				</section>

				<section>
					<p>https://git-scm.com/</p>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
